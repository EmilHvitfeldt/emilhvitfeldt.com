/*-- scss:mixins --*/

@mixin card-hover($scale: 1.03, $shadow-size: 3px 6px, $shadow-color: $theme-green-shadow) {
  transform: scale($scale);
  filter: drop-shadow(0 $shadow-size $shadow-color);
}

@mixin card-hover-lift($shadow-color: rgba($theme-green, 0.15)) {
  transform: translateY(-4px);
  box-shadow: 0 8px 16px $shadow-color;
}

@mixin respond-to($breakpoint) {
  @media (max-width: $breakpoint) {
    @content;
  }
}

@mixin btn-inverse {
  transition: color 0.15s ease-in;

  &:hover {
    background-color: $theme-green;
    color: #faf9f0;
    border-color: $theme-green;
  }
}

/*-- scss:defaults --*/

// Theme colors ----------------------------------------------------------------

$theme-lightgreen: #f0f3ee;
$theme-darkgreen: #17261e;
$theme-green: #4a7862;
$theme-green-light: lighten($theme-green, 50%);
$theme-green-shadow: rgba($theme-green, 0.2);

// Transitions -----------------------------------------------------------------

$transition-hover: transform 0.2s ease, filter 0.2s ease;

// Typography ------------------------------------------------------------------

$font-size-root: 22px;
$font-family-sans-serif: Commissioner;
$font-family-monospace: Inconsolata;

@font-face {
  font-family: "Commissioner";
  font-weight: 400;
  src: url("assets/fonts/Commissioner-Regular.woff2") format("woff2"),
    url("assets/fonts/Commissioner-Regular.woff") format("woff");
}
@font-face {
  font-family: "Commissioner";
  font-weight: 600;
  src: url("assets/fonts/Commissioner-SemiBold.woff2") format("woff2"),
    url("assets/fonts/Commissioner-SemiBold.woff") format("woff");
}
@font-face {
  font-family: "Commissioner";
  font-weight: 700;
  src: url("assets/fonts/Commissioner-Bold.woff2") format("woff2"),
    url("assets/fonts/Commissioner-Bold.woff") format("woff");
}

@font-face {
  font-family: "Fraunces";
  font-weight: 100;
  src: url("assets/fonts/Fraunces72pt-Thin.woff2") format("woff2"),
    url("assets/fonts/Fraunces72pt-Thin.woff") format("woff");
}
@font-face {
  font-family: "Fraunces";
  font-weight: 400;
  src: url("assets/fonts/Fraunces72pt-Regular.woff2") format("woff2"),
    url("assets/fonts/Fraunces72pt-Regular.woff") format("woff");
}
@font-face {
  font-family: "Fraunces";
  font-weight: 600;
  src: url("assets/fonts/Fraunces72pt-SemiBold.woff2") format("woff2"),
    url("assets/fonts/Fraunces72pt-SemiBold.woff") format("woff");
}

@font-face {
  font-family: "Inconsolata";
  font-weight: 400;
  src: url("assets/fonts/Inconsolata-Regular.woff2") format("woff2"),
    url("assets/fonts/Inconsolata-Regular.woff") format("woff");
}

// Quarto variable overrides ---------------------------------------------------

$body-bg: $theme-lightgreen;
$body-color: $theme-darkgreen;
$link-color: $theme-green;
$link-hover-color: darken(saturate($link-color, 50%), 15%);
$code-color: #4758ab;
$navbar-bg: $theme-lightgreen;
$navbar-fg: $theme-green;
$btn-code-copy-color-active: $theme-green;

// Page-specific variables -----------------------------------------------------

$home-main-width: 1400px;
$home-left-width: 65%;

/*-- scss:rules --*/

// =============================================================================
// BASE ELEMENTS
// =============================================================================

h1,
h2,
h3 {
  font-family: Fraunces;
}

.sourceCode {
  font-size: 1.1em;
}

.page-item.active .page-link {
  background-color: $theme-green;
  border-color: $theme-green;
}

// =============================================================================
// NAVIGATION
// =============================================================================

.menu-text {
  display: block;
  position: relative;

  &::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 0.1em;
    background-color: $theme-green;
    opacity: 1;
    transform: scale(0);
    transform-origin: center;
    transition: opacity 300ms, transform 300ms;
  }

  &:hover {
    color: $link-hover-color;
  }

  &:hover::after,
  &:focus::after {
    opacity: 1;
    transform: scale(1);
  }
}

nav .nav-item.compact .nav-link {
  &:hover {
    color: $link-hover-color;
  }
}

.navbar #quarto-search.type-overlay .aa-Autocomplete svg.aa-SubmitIcon {
  &:hover {
    color: $link-hover-color;
  }
}

// =============================================================================
// PAGE-SPECIFIC STYLES (imported from partials)
// =============================================================================

@import "scss/home";
@import "scss/blog";
@import "scss/projects";
@import "scss/talks";

// =============================================================================
// SHARED COMPONENTS
// =============================================================================

// Button links (used in about page, talks, and some posts) --------------------
// - div.quarto-about-jolla .about-link: Social buttons in about.qmd
// - .btn-links: Buttons in talk posts
// - .project-buttons>p>a: Buttons in post/slidecraft-scss-themes

div.quarto-about-jolla .about-link,
.btn-links,
.project-buttons > p > a {
  display: inline-block;
  margin: 0 8px 16px 0;
  padding: 8px 16px;
  border-style: solid;
  font-family: Commissioner;
  text-transform: uppercase;
  text-decoration-line: none;

  @include btn-inverse;

  i {
    margin-right: 8px;
  }
}

// Slide deck embed ------------------------------------------------------------

.slide-deck {
  width: 100%;
  aspect-ratio: 1.5;
  border: 1px solid;
}
