<script type="text/javascript">
Reveal.on('fragmentshown', (event) => {
  if (event.fragment.classList.contains("color")) {
    random_color = '#'+(Math.random()*0xFFFFFF<<0).toString(16);
  
    Reveal
      .getCurrentSlide()
      .querySelector("h2")
      .style
      .color = random_color;
  }
});

Reveal.on('fragmenthidden', (event) => {
  if (event.fragment.classList.contains("color")) {
    color = event.fragment.dataset.color;

      Reveal
      .getCurrentSlide()
      .querySelector("h2")
      .style
      .color = color;
  }
});
</script>