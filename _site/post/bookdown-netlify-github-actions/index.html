<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.309">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2020-01-20">
<meta name="description" content="his post will show you how you can set up a bookdown site with Netlify using Github Actions.">

<title>Deploy your bookdown project to Netlify with Github Actions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"><span class="menu-text">home</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"><span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"><span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"><span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks.html"><span class="menu-text">Talks</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Deploy your bookdown project to Netlify with Github Actions</h1>
                  <div>
        <div class="description">
          <p>his post will show you how you can set up a bookdown site with Netlify using Github Actions.</p>
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 20, 2020</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#create-repository" id="toc-create-repository" class="nav-link active" data-scroll-target="#create-repository">Create Repository</a></li>
  <li><a href="#connect-to-github" id="toc-connect-to-github" class="nav-link" data-scroll-target="#connect-to-github">Connect to Github</a></li>
  <li><a href="#create-netlify-account" id="toc-create-netlify-account" class="nav-link" data-scroll-target="#create-netlify-account">Create Netlify account</a></li>
  <li><a href="#create-netlify-site" id="toc-create-netlify-site" class="nav-link" data-scroll-target="#create-netlify-site">Create Netlify site</a></li>
  <li><a href="#get-a-netlify-personal-access-token" id="toc-get-a-netlify-personal-access-token" class="nav-link" data-scroll-target="#get-a-netlify-personal-access-token">Get a Netlify personal access token</a></li>
  <li><a href="#store-your-secrets" id="toc-store-your-secrets" class="nav-link" data-scroll-target="#store-your-secrets">Store Your Secrets</a></li>
  <li><a href="#create-github-workflow" id="toc-create-github-workflow" class="nav-link" data-scroll-target="#create-github-workflow">Create Github workflow</a></li>
  <li><a href="#run-renvsnapshot" id="toc-run-renvsnapshot" class="nav-link" data-scroll-target="#run-renvsnapshot">Run renv::snapshot</a></li>
  <li><a href="#push-changes" id="toc-push-changes" class="nav-link" data-scroll-target="#push-changes">Push changes</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">Notes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>With the new <a href="https://github.com/features/actions">Github Actions</a> comes many possibilities. Some new and some old. One of the benefits is that you don’t have to use third-party applications to do continuous integration.</p>
<p>This post will show you how you can set up a <a href="https://bookdown.org/yihui/bookdown/">bookdown</a> site with <a href="https://netlify.com/">Netlify</a> using Github Actions. This was previously and still is possible to do with Travis-CI.</p>
<p>This post wouldn’t have been possible without <a href="https://twitter.com/jimhester_">Jim Hester’s</a> work on <a href="https://github.com/r-lib/actions">Github Actions</a>.</p>
<p>If you are transferring a book from Travis-CI build look at the notes at the end of this post.</p>
<section id="create-repository" class="level2">
<h2 class="anchored" data-anchor-id="create-repository">Create Repository</h2>
<p>First, you need to create a bookdown repository. For this, I suggest you follow the <a href="https://bookdown.org/yihui/bookdown/get-started.html">Getting Started</a> chapter from the <a href="https://bookdown.org/yihui/bookdown/">Bookdown Book</a> and download the GitHub repository https://github.com/rstudio/bookdown-demo as a <a href="https://github.com/rstudio/bookdown-demo/archive/master.zip">Zip file</a>, then unzip it locally. I recommend that you change the name of the <code>.Rproj</code> file so isn’t the default value.</p>
<p>The next step isn’t necessary but is still highly recommended. Go fill in the information in the <code>DESCRIPTION</code> file. Most importantly the <code>Package</code> and <code>Title</code> fields. The <code>Package</code> field will be used as the name of the repository and the <code>Title</code> field will be the description of the repository once it hits Github.</p>
</section>
<section id="connect-to-github" class="level2">
<h2 class="anchored" data-anchor-id="connect-to-github">Connect to Github</h2>
<p>Now we want to connect our repository to Github. For this, I will use the <a href="https://usethis.r-lib.org/">usethis</a> package which is wonderful for things like this. If you haven’t used <strong>usethis</strong> before please go do the <a href="https://usethis.r-lib.org/articles/articles/usethis-setup.html">usethis setup</a> before moving forward.</p>
<p>Simply add Git to the repository by running <code>usethis::use_git()</code> and connect it to Github with <code>usethis::use_github()</code>. This should open up a webpage with the newly linked repository.</p>
</section>
<section id="create-netlify-account" class="level2">
<h2 class="anchored" data-anchor-id="create-netlify-account">Create Netlify account</h2>
<p>If you haven’t already got a Netlify account, go to <a href="https://www.netlify.com/">netlify.com/</a> to create one for free. I have it set up with Github for easier interaction.</p>
</section>
<section id="create-netlify-site" class="level2">
<h2 class="anchored" data-anchor-id="create-netlify-site">Create Netlify site</h2>
<p>Once you have logged into Netlify go to your team page and create a “New site from Git”</p>
<p><img src="netlify-teams.png" class="img-fluid"></p>
<p>Select Github for Continuous Deployment</p>
<p><img src="create-new-site.png" class="img-fluid"></p>
<p>Now we need to select the GitHub repository. Depending on how many repositories you have you can find it in the list or search for it with the search bar. Once you have found it click the little arrow to the right of it.</p>
<p><img src="pick-a-repository.png" class="img-fluid"></p>
<p>Don’t touch any of the settings.</p>
<p><img src="deploy-settings.png" class="img-fluid"></p>
<p>And voila! Here is your new site, it is currently empty. Now click on the “Site settings” button</p>
<p><img src="new-site.png" class="img-fluid"></p>
<p>copy the API ID and save it, you will need it in a little bit. If you lose it you can always come back here and copy it again.</p>
<p><img src="site-id.png" class="img-fluid"></p>
<p>You might have noticed that the website is completely random. If you click on the “Change site name” button you can set a new prefix name.</p>
<p><img src="set-name.png" class="img-fluid"></p>
<p>Scroll down to get the Status Badge, you can copy this too and put it at the top of your README.md file if you want.</p>
<p><img src="status-badge.png" class="img-fluid"></p>
</section>
<section id="get-a-netlify-personal-access-token" class="level2">
<h2 class="anchored" data-anchor-id="get-a-netlify-personal-access-token">Get a Netlify personal access token</h2>
<p>Scroll all the way up and click on your icon in the top right corner. Then go to “User settings”</p>
<p><img src="icon.png" class="img-fluid"></p>
<p>go to “Applications”</p>
<p><img src="user-settings.png" class="img-fluid"></p>
<p>And click on “New access token” to create a personal access token</p>
<p><img src="personal-access-token.png" class="img-fluid"></p>
<p>The description of your token isn’t important but try to make it related to your book so you remember. Click “Generate token” when you are done.</p>
<p><img src="generate-token.png" class="img-fluid"></p>
<p>Here is your authentication token. Copy it and don’t lose it! Once you leave this site you <strong>can not</strong> get it back.</p>
<p><img src="created-token.png" class="img-fluid"></p>
</section>
<section id="store-your-secrets" class="level2">
<h2 class="anchored" data-anchor-id="store-your-secrets">Store Your Secrets</h2>
<p>Now that you have the API ID and personal access token go back to your Github repository and go to “Settings”</p>
<p><img src="github-settings.png" class="img-fluid"></p>
<p>go to “Secrets”</p>
<p><img src="github-secrets.png" class="img-fluid"></p>
<p>Click on “Add a new secret”</p>
<p><img src="add-new-secret.png" class="img-fluid"></p>
<p>You need to do this twice.</p>
<ul>
<li>one named “NETLIFY_AUTH_TOKEN” where you put the personal access token as the value and,</li>
<li>one named “NETLIFY_SITE_ID” where you put the API ID as the value.</li>
</ul>
<p><img src="fill-in-secret.png" class="img-fluid"></p>
</section>
<section id="create-github-workflow" class="level2">
<h2 class="anchored" data-anchor-id="create-github-workflow">Create Github workflow</h2>
<p>Now add the GitHub workflow file.</p>
<p>For this, you will need version <code>1.5.1.9000</code> or higher of <strong>usethis</strong> for it to work. You can get the newest version of usethis from github with</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"r-lib/usethis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>then you run <code>use_github_action("bookdown.yaml")</code> which will create the .yaml file in the right directory for you.</p>
</section>
<section id="run-renvsnapshot" class="level2">
<h2 class="anchored" data-anchor-id="run-renvsnapshot">Run renv::snapshot</h2>
<p>Install the <a href="https://github.com/rstudio/renv">renv</a> package and run <code>renv::snapshot()</code>. This will ensure the package versions remain consistent across builds.</p>
<p>Once you need more packages, add them to the description like you normally would with an R package.</p>
</section>
<section id="push-changes" class="level2">
<h2 class="anchored" data-anchor-id="push-changes">Push changes</h2>
<p>And that is everything you need to do, just commit the workflow file and the <strong>renv</strong> files you created and the website should build for you.</p>
<p>My example can be found <a href="https://bookdown-github-actions-netlify.netlify.com/">here</a> with the <a href="https://github.com/EmilHvitfeldt/bookdown-github-actions-netlify">repository</a>.</p>
</section>
<section id="notes" class="level2">
<h2 class="anchored" data-anchor-id="notes">Notes</h2>
<p>the line</p>
<pre><code>netlify deploy --prod --dir _book</code></pre>
<p>the workflow files it the one that deploys the built book to Netlify. It defaults to the <code>_book</code> folder. In the <code>_bookdown.yml</code> file you can change the output folder. So if you have set it to <code>output_dir: "docs"</code> then you need to change the deploy option to</p>
<pre><code>netlify deploy --prod --dir docs</code></pre>
<details closed="">
<summary>
<span title="Click to Expand"> session information </span>
</summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>─ Session info ───────────────────────────────────────────────────────────────</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a> setting  value                       </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a> version  R version <span class="dv">4</span>.<span class="fl">0.2</span> (<span class="dv">2020-06-22</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a> os       macOS Mojave <span class="dv">10</span>.<span class="fl">14.6</span>        </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a> system   x86_64, darwin17<span class="fl">.0</span>          </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a> ui       X11                         </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">language</span> (EN)                        </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a> collate  en_US.UTF<span class="dv">-8</span>                 </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a> ctype    en_US.UTF<span class="dv">-8</span>                 </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a> tz       America<span class="sc">/</span>Los_Angeles         </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a> date     <span class="dv">2020-09-04</span>                  </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>─ Packages ───────────────────────────────────────────────────────────────────</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a> package     <span class="sc">*</span> version    date       lib source                       </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a> assertthat    <span class="dv">0</span>.<span class="fl">2.1</span>      <span class="dv">2019-03-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a> backports     <span class="dv">1</span>.<span class="fl">1.8</span>      <span class="dv">2020-06-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a> blogdown      <span class="fl">0.20</span>       <span class="dv">2020-06-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a> bookdown      <span class="fl">0.20</span>       <span class="dv">2020-06-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a> cli           <span class="dv">2</span>.<span class="fl">0.2</span>      <span class="dv">2020-02-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a> clipr         <span class="dv">0</span>.<span class="fl">7.0</span>      <span class="dv">2019-07-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a> crayon        <span class="dv">1</span>.<span class="dv">3</span>.<span class="fl">4.9000</span> <span class="dv">2020-08-22</span> [<span class="dv">1</span>] <span class="fu">Github</span> (r<span class="sc">-</span>lib<span class="sc">/</span>crayon<span class="sc">@</span><span class="dv">6</span>b3f0c6)</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a> desc          <span class="dv">1</span>.<span class="fl">2.0</span>      <span class="dv">2018-05-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a> details     <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">2.1</span>      <span class="dv">2020-01-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a> digest        <span class="dv">0</span>.<span class="fl">6.25</span>     <span class="dv">2020-02-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a> evaluate      <span class="fl">0.14</span>       <span class="dv">2019-05-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a> fansi         <span class="dv">0</span>.<span class="fl">4.1</span>      <span class="dv">2020-01-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a> glue          <span class="dv">1</span>.<span class="fl">4.2</span>      <span class="dv">2020-08-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.2</span>)               </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a> htmltools     <span class="dv">0</span>.<span class="fl">5.0</span>      <span class="dv">2020-06-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a> httr          <span class="dv">1</span>.<span class="fl">4.2</span>      <span class="dv">2020-07-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.2</span>)               </span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a> knitr       <span class="sc">*</span> <span class="fl">1.29</span>       <span class="dv">2020-06-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a> magrittr      <span class="fl">1.5</span>        <span class="dv">2014-11-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a> png           <span class="fl">0.1</span><span class="dv">-7</span>      <span class="dv">2013-12-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a> R6            <span class="dv">2</span>.<span class="fl">4.1</span>      <span class="dv">2019-11-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a> rlang         <span class="dv">0</span>.<span class="fl">4.7</span>      <span class="dv">2020-07-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.2</span>)               </span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a> rmarkdown     <span class="fl">2.3</span>        <span class="dv">2020-06-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a> rprojroot     <span class="fl">1.3</span><span class="dv">-2</span>      <span class="dv">2018-01-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a> sessioninfo   <span class="dv">1</span>.<span class="fl">1.1</span>      <span class="dv">2018-11-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a> stringi       <span class="dv">1</span>.<span class="fl">4.6</span>      <span class="dv">2020-02-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a> stringr       <span class="dv">1</span>.<span class="fl">4.0</span>      <span class="dv">2019-02-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a> withr         <span class="dv">2</span>.<span class="fl">2.0</span>      <span class="dv">2020-04-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a> xfun          <span class="fl">0.16</span>       <span class="dv">2020-07-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.2</span>)               </span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a> xml2          <span class="dv">1</span>.<span class="fl">3.2</span>      <span class="dv">2020-04-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a> yaml          <span class="dv">2</span>.<span class="fl">2.1</span>      <span class="dv">2020-02-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">0.0</span>)               </span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">/</span>Library<span class="sc">/</span>Frameworks<span class="sc">/</span>R.framework<span class="sc">/</span>Versions<span class="sc">/</span><span class="fl">4.0</span><span class="sc">/</span>Resources<span class="sc">/</span>library</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p><br></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>